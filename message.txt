import React, { useState } from "react";
import Table from '@mui/material/Table';
import TableBody from '@mui/material/TableBody';
import TableCell from '@mui/material/TableCell';
import TableContainer from '@mui/material/TableContainer';
import TableHead from '@mui/material/TableHead';
import TableRow from '@mui/material/TableRow';
import Paper from '@mui/material/Paper';
import { Button, TextField } from "@mui/material";
import DeleteIcon from '@mui/icons-material/Delete';
import OutlinedInput from '@mui/material/OutlinedInput';
import InputLabel from '@mui/material/InputLabel';
import MenuItem from '@mui/material/MenuItem';
import FormControl from '@mui/material/FormControl';
import ListItemText from '@mui/material/ListItemText';
import Select from '@mui/material/Select';
import Checkbox from '@mui/material/Checkbox';

const ITEM_HEIGHT = 48;
const ITEM_PADDING_TOP = 8;
const MenuProps = {
  PaperProps: {
    style: {
      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,
      width: 250,
    }
  },
}
const label = { inputProps: { 'aria-label': 'Checkbox demo' } }

const style = {
  position: 'absolute',
  top: '50%',
  left: '50%',
  transform: 'translate(-50%, -50%)',
  width: 400,
  bgcolor: 'background.paper',
  border: '2px solid #000',
  boxShadow: 24,
  p: 4,
};

const listaHabilidades = [
  'React',
  'Ract Native',
  'Vue',
  'Java',
  'Angular'
]

function App() {

  const [achou, setAchou] = useState(false)

  const [inputNome, setInputNome] = useState('')

  const [inputFuncao, setInputFuncao] = useState('')

  const [inputHabilidades, setInputHabilidades] = useState([])

  const [funcionarios, setFuncionarios] = useState([
    {
      nome: 'Fiora',
      funcao: 'Desenvolvedora',
      habilidades: ['Vue', 'React']
    },
    {
      nome: 'Camille',
      funcao: 'Trainee',
      habilidades: ['Angular', 'Java']
    }
  ])

  function adicionar(){
    setFuncionarios([...funcionarios, {nome: inputNome, funcao: inputFuncao, habilidades: [inputHabilidades]}])
    setInputNome('')
    setInputFuncao('')
    setInputHabilidades([])
  }

  function deletar(index){
    const alunosAux = [...funcionarios]
    alunosAux.splice(index, 1)
    setFuncionarios(alunosAux)
  }
  
  return (
    <div>
      <h1 style={{display:"flex"}} >Lista de Funcionário</h1>
      <TextField 
        id="outlined-basic"
        type="text"
        label="Nome" 
        variant="outlined"
        size="large"       
        value={inputNome}
        onChange={e=> setInputNome(e.target.value)} 
      >
      </TextField>

      <a>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;</a>

      <TextField 
        id="outlined-basic"
        type="text"
        label="Função" 
        variant="outlined"         
        value={inputFuncao}
        onChange={e=> setInputFuncao(e.target.value)} 
      >
      </TextField>

       <a>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;</a>

       <FormControl sx={{ m: 1, width: 300 }}>
        <InputLabel id="demo-multiple-checkbox-label">Habilidades</InputLabel>
        <Select
          labelId="demo-multiple-checkbox-label"
          id="demo-multiple-checkbox"
          multiple
          value={inputHabilidades}
          onChange={e => setInputHabilidades(e.target.value)}
          input={<OutlinedInput label="Habilidades" />}
          renderValue={(selected) => selected.join(', ')}
          MenuProps={MenuProps}
        >
          {listaHabilidades.map((name, index) => (
            <MenuItem key={index} value={name}>
              <Checkbox checked={inputHabilidades.indexOf(name) > -1} />
              <ListItemText primary={name} />
            </MenuItem>
          ))}
        </Select>
      </FormControl>

      <a>&emsp;&emsp;&emsp;&emsp;&emsp;</a>

      <Button 
        variant="contained" 
        onClick={adicionar}
        >
          Adicionar
      </Button>

      <br/><br/>

      <TableContainer component={Paper}>
        <Table sx={{ minWidth: 650 }} aria-label="simple table">
          <TableHead>
            <TableRow>
              <TableCell><strong>Nome do Funcionario</strong></TableCell>
              <TableCell align="right"><strong>Função</strong></TableCell>
              <TableCell align="right"><strong>Habilidades</strong></TableCell>
              <TableCell align="right"><strong>Deletar</strong></TableCell>
            </TableRow>
          </TableHead>
          <TableBody>
            {funcionarios.map((funcionario, index) => (
              <TableRow
                key={index}
                sx={{ '&:last-child td, &:last-child th': { border: 0 } }}
              >
                <TableCell component="th" scope="row">
                  {funcionario.nome}
                </TableCell>
                <TableCell align="right">{funcionario.funcao}</TableCell>
                <TableCell align="right">{funcionario.habilidades.join(', ')}</TableCell>
                <TableCell align="right">
                <Button variant="outlined"
                  startIcon={<DeleteIcon />}
                  onClick={() => deletar(index)}
                >
                  Delete
                </Button>
                </TableCell>
              </TableRow>
            ))}
          </TableBody>
        </Table>
      </TableContainer>

      

    </div>
  );
}

export default App;
